<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./package_artist.css">
</head>

<body>

<div class="container" id="container">


    <div class="menu-bar">
        <img src="../../assets/images/Screenshot__63_-removebg-preview.png" alt="logo">
        <ul class="main">
            <!-- <li class="dropdown"><a href="#">Home <i class="fas fa-caret-down"></i></a> -->

            <!-- </li> -->
            <li><a href="./profileartist.html">PROFILE</a>

            </li>
            <li><a href="../pages/signup/package.html">YOUR PACKAGE PLANS</a></li>
            </li>
            <li>UPLOAD YOUR WORKS</li>
            <li>LOGOUT</li>
            </li>

        </ul>
    </div>

    <div class="content">

        <div class="adding_list">

            <div class="para">
                <h1>Fill Your avliabale services</h1>
                <p>The Lorem ipum filling text is used by graphic designers, programmers and printers with the aim of
                    occupying the spaces of a website, an advertising product or an editorial production whose final
                    text is not yet ready.
                </p>
                <button class="add_btn" id="btn_add">Add your services</button>

            </div>
            <div class="img">
                <img src="../assets/images/6551297.jpg" class="images_title">
            </div>


        </div>
        <div class="steps">

            <h1>Here the steps to add your services</h1>
            <li>click the Add button</li>
            <li>Fill the name feild</li>
            <li>select the category</li>
            <li>And your sample image </li>
            <li>Finally submit the felid</li>
        </div>

    </div>
</div>
<div class="form" id="fomr_service">


    <form id="listing">

        <h3 class="category">choose the category</h3>

        <input type="radio" placeholder="Hair style" name="category" value="hairstyle">
        <label>Hair style</label>

        <input type="radio" class="saree" placeholder="saree drapping" name="category" value="sareedrapping">

        <label>saree drapping</label>

        <br>
        <input type="radio" placeholder="Makeup" name="category" value="Makeup">
        <label>Makeup </label>

        <input type="radio" class="Mehandi" placeholder="Mehandi" name="category" value="Mehandi">
        <label>Mehandi</label>
        <br>

        <input type="radio" name="name" value="others" name="category">
        <label>others</label>

  
        <label></label>
        <input type="text" >
        <br>

        <label class="name"> Name of category:</label>
        <input type="text" class="name_of_cetegory category_name" id="name_of_cetegory">
        <br>
        <label class="cost">Cost:</label>
        <input type="number" class="number_of_cetegory category_name" id="number_for_cetegory">
        <br>
        <label class="image">Sample Image</label>
        <input type="url" class="url_of_cetegory category_name" id="url_of_cetegory">
        <br>

        <button type="submit" class="submit_btn">Submit</button>

    </form>


</div>
    <script>





const addBtn = document.getElementById('btn_add');
const formService = document.getElementById('fomr_service');
const container = document.getElementById('container');


addBtn.addEventListener('click', function() {
  formService.style.display =  'block';
  container.classList.toggle('blur');
});

let  listingForm=document.getElementById("listing")
listingForm.addEventListener("submit", (event) => {
  event.preventDefault();

  const radioButtons = document.getElementsByName("category");
  let selectedValue = "";

  for (let i = 0; i < radioButtons.length; i++) {
    if (radioButtons[i].checked) {
      selectedValue = radioButtons[i].value;
      break;
    }
  }

  const name = document.getElementById("name_of_cetegory").value.trim();
  const cost = document.getElementById("number_for_cetegory").value.trim();
  const image = document.getElementById("url_of_cetegory").value.trim();

  if (!name || !cost || !image) {
    alert("Please fill out all required fields.");
    return;
  }

  let listing_items = JSON.parse(localStorage.getItem("list_of_services")) || [];

  let object = {
    "category": selectedValue,
    "name": name,
    "cost": cost,
    "image": image,
    "artist_email": localStorage.getItem("artist_profile"),
    "category_id": listing_items.length,
  };

  listing_items.push(object);

  localStorage.setItem('list_of_services', JSON.stringify(listing_items));

  let dataOfArtist = JSON.parse(localStorage.getItem("card_data"))
  let user = dataOfArtist.find(obj => obj.user_email === localStorage.getItem("artist_profile"));

  if (user) {
    user.services = {
      hairstyleServices: [],
      sareedrappingServices: [],
      makeupServices: [],
      mehandiServices: []
    };

    for (let item of listing_items) {
      if (item.artist_email === localStorage.getItem("artist_profile")) {
        let servicesArrayName = item.category.toLowerCase() + "Services";
        if (servicesArrayName in user.services) {
          user.services[servicesArrayName].push(item);
        }
      }
    }

    localStorage.setItem("card_data", JSON.stringify(dataOfArtist));
  }
});
























        // let active_user = localStorage.getItem("artist_profile")
        // let dataofartist = JSON.parse(localStorage.getItem("card_data"))
        // console.log(active_user)
        // // Get all the checkboxes
        // const checkboxes = document.querySelectorAll('input[type="checkbox"]');


        // // Add an event listener to each checkbox
        // checkboxes.forEach((checkbox) => {
        //     checkbox.addEventListener('click', () => {
        //         // Get the value and the category of the clicked checkbox
        //         const value = checkbox.value;
        //         const category = checkbox.closest('.checking').classList[1];

        //         console.log(category)

        //         // Get the current state of the array from local storage
        //         let array = JSON.parse(localStorage.getItem('checkboxes')) || [];

        //         // Check if the clicked checkbox is already in the array
        //         const index = array.findIndex((item) => item.category === category);

        //         // If the checkbox is not in the array, add it

        //         if (index === -1) {
        //             array.push(

        //                 {
        //                     category,
        //                     values: [value],

        //                     useremail: active_user
        //                 }
        //             );
        //         }



        //         localStorage.removeItem('checkboxes');
        //         // Save the updated array to local storage
        //         localStorage.setItem('checkboxes', JSON.stringify(array));
        //         let user = dataofartist.find(obj => obj.user_email === active_user);

        //         user.services = array.filter(element => element.useremail === active_user);

        //         localStorage.setItem("card_data", JSON.stringify(dataofartist));


        //     });


        // });


        // let re;
        // dataofartist.find(function (e) {
        //     if (e["user_email"] == active_user) {
        //         return re = e
        //     }
        // }
        // )



        // const Packages = document.getElementById("filling_package");
        // Packages.addEventListener('submit', e => {
        //     e.preventDefault();
        //     const First_option = document.getElementById("input_1").value
        //     const second_option = document.getElementById("input_2").value
        //     const nameOfartist = re.name
        //     const Three_option = document.getElementById("input_3").value
        //     const Four_option = document.getElementById("input_4").value
        //     const Five_option = document.getElementById("input_5").value
        //     const six_option = document.getElementById("input_6").value
        //     const seven_option = document.getElementById("input_7").value
        //     const eight_option = document.getElementById("input_8").value
        //     const nine_option = document.getElementById("input_9").value

        //     const user_records = JSON.parse(localStorage.getItem("Packages")) || []
        //     let existing_record_index = user_records.findIndex(record => record.email === active_user);

        //     if (existing_record_index !== -1) {

        //         user_records[existing_record_index]["sare_drapping+Advance Makeup per person"] = First_option;
        //         user_records[existing_record_index]["Pro Makeup+Basic hair style Per person"] = second_option;
        //         user_records[existing_record_index]["Jewelery+HD Makeup per person"] = Three_option;
        //         user_records[existing_record_index]["Pro Makeup+custumes Per Person"] = Four_option;
        //         user_records[existing_record_index]["Bride+BrideMade 2 Person"] = Five_option;
        //         user_records[existing_record_index]["Hd Makeup+Hair style per person"] = six_option;
        //         user_records[existing_record_index]["Heavy Makeup+jwelers+custumes"] = seven_option;
        //         user_records[existing_record_index]["Hair style+light touchup"] = eight_option;
        //         user_records[existing_record_index]["Makeup+mehandi"] = nine_option;
        //         user_records[existing_record_index]["artist_name"] = nameOfartist;
        //     } else if (First_option.trim() !== '' && second_option.trim() !== '' && Three_option.trim() !== '' && Four_option.trim() !== '' && Five_option.trim() !== '' && six_option.trim() !== '' && seven_option.trim() !== '' && eight_option.trim() !== '' && nine_option.trim() !== '') {

        //         let user_data = {
        //             "sare_drapping+Advance Makeup per person": First_option,
        //             "Pro Makeup+Basic hair style Per person": second_option,
        //             "Jewelery+HD Makeup per person": Three_option,
        //             "Pro Makeup+custumes Per Person": Four_option,
        //             "Bride+BrideMade 2 Person": Five_option,
        //             "Hd Makeup+Hair style per person": six_option,
        //             "Heavy Makeup+jwelers+custumes": seven_option,
        //             "Hair style+light touchup": eight_option,
        //             "Makeup+mehandi": nine_option,
        //             "artist_name": nameOfartist,
        //             "id": length,
        //             "email": active_user,
        //         }
        //         user_records.push(user_data);
        //     } else {
        //         alert("if you dont accept any plan just type 0 ")
        //     }

        //     localStorage.setItem("Packages", JSON.stringify(user_records));
        //     let user = dataofartist.find(obj => obj.user_email === active_user);
        //     user.packages = user_records.filter(element => element.email === active_user);
        //     localStorage.setItem("card_data", JSON.stringify(dataofartist));
        // })





        // let user = dataofartist.find(obj => obj.user_email === active_user);
        // user.services.filter(function (obj) {

        //     listing(obj)

        // });
        // function listing(e) {

        //     let info = document.querySelector(".choosed");

        //     info.innerHTML += `
            
        //        <p>${e.category}</p>
            
              
        //        `

        // }














    </script>


</body>

</html>